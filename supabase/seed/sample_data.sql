-- 샘플 데이터 생성 스크립트

-- 1. 팀 생성
INSERT INTO teams (id, name) VALUES
('550e8400-e29b-41d4-a716-446655440001', '백남여 4C'),
('550e8400-e29b-41d4-a716-446655440002', '청년부 A팀');

-- 2. 사용자 생성 (PIN: 1234 - 평문 저장, 테스트용)
-- 주의: 실제 프로덕션에서는 bcrypt로 해시해야 합니다
INSERT INTO users (id, name, phone, pin_hash, role, team_id, approved) VALUES
-- super-admin
('550e8400-e29b-41d4-a716-446655440010', '관리자', '01000000000', '1234', 'super-admin', NULL, true),
-- 팀장 (백남여 4C)
('550e8400-e29b-41d4-a716-446655440011', '김팀장', '01011111111', '1234', 'team-leader', '550e8400-e29b-41d4-a716-446655440001', true),
-- pastor
('550e8400-e29b-41d4-a716-446655440012', '목사님', '01099999999', '1234', 'pastor', NULL, true);

-- 3. 구역장 생성 (백남여 4C)
INSERT INTO zone_leaders (id, user_id, team_id, name, phone) VALUES
('550e8400-e29b-41d4-a716-446655440020', NULL, '550e8400-e29b-41d4-a716-446655440001', '구역장A', '01020000001'),
('550e8400-e29b-41d4-a716-446655440021', NULL, '550e8400-e29b-41d4-a716-446655440001', '구역장B', '01020000002'),
('550e8400-e29b-41d4-a716-446655440022', NULL, '550e8400-e29b-41d4-a716-446655440001', '구역장C', '01020000003');

-- 4. 팀원 생성 (백남여 4C) - 30명
INSERT INTO members (id, team_id, name, phone, is_newbie, zone_leader_id) VALUES
-- 구역장A 소속 (10명)
('550e8400-e29b-41d4-a716-446655440030', '550e8400-e29b-41d4-a716-446655440001', '김철수', '01030000001', false, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440031', '550e8400-e29b-41d4-a716-446655440001', '이영희', '01030000002', false, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440032', '550e8400-e29b-41d4-a716-446655440001', '박민수', '01030000003', true, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440033', '550e8400-e29b-41d4-a716-446655440001', '최지은', '01030000004', false, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440034', '550e8400-e29b-41d4-a716-446655440001', '정수현', '01030000005', true, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440035', '550e8400-e29b-41d4-a716-446655440001', '강동욱', '01030000006', false, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440036', '550e8400-e29b-41d4-a716-446655440001', '조미라', '01030000007', false, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440037', '550e8400-e29b-41d4-a716-446655440001', '윤서준', '01030000008', true, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440038', '550e8400-e29b-41d4-a716-446655440001', '임하늘', '01030000009', false, '550e8400-e29b-41d4-a716-446655440020'),
('550e8400-e29b-41d4-a716-446655440039', '550e8400-e29b-41d4-a716-446655440001', '한지민', '01030000010', false, '550e8400-e29b-41d4-a716-446655440020'),

-- 구역장B 소속 (10명)
('550e8400-e29b-41d4-a716-446655440040', '550e8400-e29b-41d4-a716-446655440001', '송준호', '01030000011', false, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440041', '550e8400-e29b-41d4-a716-446655440001', '안은지', '01030000012', true, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440042', '550e8400-e29b-41d4-a716-446655440001', '오태양', '01030000013', false, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440043', '550e8400-e29b-41d4-a716-446655440001', '황나래', '01030000014', false, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440044', '550e8400-e29b-41d4-a716-446655440001', '서민재', '01030000015', true, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440045', '550e8400-e29b-41d4-a716-446655440001', '권소연', '01030000016', false, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440046', '550e8400-e29b-41d4-a716-446655440001', '백승현', '01030000017', false, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440047', '550e8400-e29b-41d4-a716-446655440001', '남궁현', '01030000018', true, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440048', '550e8400-e29b-41d4-a716-446655440001', '채수아', '01030000019', false, '550e8400-e29b-41d4-a716-446655440021'),
('550e8400-e29b-41d4-a716-446655440049', '550e8400-e29b-41d4-a716-446655440001', '홍길동', '01030000020', false, '550e8400-e29b-41d4-a716-446655440021'),

-- 구역장C 소속 (10명)
('550e8400-e29b-41d4-a716-446655440050', '550e8400-e29b-41d4-a716-446655440001', '문성호', '01030000021', false, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440051', '550e8400-e29b-41d4-a716-446655440001', '진다은', '01030000022', true, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440052', '550e8400-e29b-41d4-a716-446655440001', '변우석', '01030000023', false, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440053', '550e8400-e29b-41d4-a716-446655440001', '도예진', '01030000024', false, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440054', '550e8400-e29b-41d4-a716-446655440001', '류재민', '01030000025', true, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440055', '550e8400-e29b-41d4-a716-446655440001', '표하늘', '01030000026', false, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440056', '550e8400-e29b-41d4-a716-446655440001', '탁지수', '01030000027', false, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440057', '550e8400-e29b-41d4-a716-446655440001', '석민우', '01030000028', true, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440058', '550e8400-e29b-41d4-a716-446655440001', '구하리', '01030000029', false, '550e8400-e29b-41d4-a716-446655440022'),
('550e8400-e29b-41d4-a716-446655440059', '550e8400-e29b-41d4-a716-446655440001', '허연우', '01030000030', false, '550e8400-e29b-41d4-a716-446655440022');

-- 5. 전도 관계 샘플
-- 예: 김철수가 박민수(새신자)를 전도
INSERT INTO referrals (new_member_id, referrer_id, referrer_type, team_id, depth, date) VALUES
('550e8400-e29b-41d4-a716-446655440032', '550e8400-e29b-41d4-a716-446655440030', 'member', '550e8400-e29b-41d4-a716-446655440001', 1, '2025-12-01'),
-- 구역장A가 정수현(새신자)를 전도
('550e8400-e29b-41d4-a716-446655440034', '550e8400-e29b-41d4-a716-446655440020', 'zone-leader', '550e8400-e29b-41d4-a716-446655440001', 1, '2025-12-01');

-- 6. 이번 주 출석 샘플 (2025-12-08 일요일 기준)
INSERT INTO attendance_records (team_id, member_id, week_start_date, present) VALUES
-- 구역장A 소속
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440030', '2025-12-08', true),
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440031', '2025-12-08', true),
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440032', '2025-12-08', true), -- 새신자 출석
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440033', '2025-12-08', false), -- 결석
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440034', '2025-12-08', true), -- 새신자 출석
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440035', '2025-12-08', true),
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440036', '2025-12-08', true),
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440037', '2025-12-08', false), -- 새신자 결석 (집계 제외)
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440038', '2025-12-08', true),
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440039', '2025-12-08', true);

-- 7. 점수 샘플 (새신자 출석 점수)
INSERT INTO points (team_id, member_id, points, reason, week_start_date, date, metadata) VALUES
-- 박민수 (새신자 출석)
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440032', 1, 'newbie_attendance', '2025-12-08', '2025-12-08', '{"week": "2025-12-08"}'),
-- 정수현 (새신자 출석)
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440034', 1, 'newbie_attendance', '2025-12-08', '2025-12-08', '{"week": "2025-12-08"}');

-- 점수 계산 완료 메시지
SELECT '샘플 데이터가 성공적으로 로드되었습니다.' as message;
SELECT '팀: 백남여 4C (30명 멤버, 3명 구역장)' as info;
SELECT '로그인 계정:' as accounts;
SELECT '  - 관리자: 01000000000 / PIN: 1234' as admin;
SELECT '  - 김팀장: 01011111111 / PIN: 1234' as team_leader;
SELECT '  - 목사님: 01099999999 / PIN: 1234' as pastor;
